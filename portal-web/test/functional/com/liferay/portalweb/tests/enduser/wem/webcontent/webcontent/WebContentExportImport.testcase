<definition component-name="portal-wcm">
	<property name="portal.release" value="true" />
	<property name="portal.upstream" value="true" />
	<property name="testray.main.component.name" value="Web Content Administration" />

	<set-up>
		<execute macro="TestCase#setUpPortalInstance" />

		<execute macro="User#firstLoginPG" />

		<execute macro="JSONGroup#addGroup">
			<var name="groupName" value="Test Site Name" />
		</execute>
	</set-up>

	<tear-down>
		<var method="PropsUtil#get('test.portal.instance')" name="testPortalInstance" />

		<if>
			<equals arg1="${testPortalInstance}" arg2="true" />
			<then>
				<execute macro="PortalInstances#tearDownCP" />
			</then>
			<else>
				<execute macro="JSONGroup#deleteGroupByName">
					<var name="groupName" value="Test Site Name" />
				</execute>

				<execute macro="WebContentStructures#tearDownCP">
					<var name="siteScopeName" value="Global" />
				</execute>
			</else>
		</if>
	</tear-down>

	<command name="AddCreatedStructureForImportedTemplate" priority="5">
		<description message="This is a use case for LPS-82492." />

		<property name="testray.component.names" value="Training" />

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="NavItem#gotoStructures" />

		<execute macro="WebContentStructures#addCP">
			<var name="structureName" value="Content List" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Web Content" />
			<var name="fieldFieldLabel" value="Web Content" />
			<var name="fieldName" value="contents" />
		</execute>

		<execute macro="DynamicDataMapping#editFieldTip">
			<var name="fieldFieldLabel" value="Web Content" />
			<var name="fieldTip" value="Choose as many content pieces as you would like to feature." />
		</execute>

		<execute macro="DynamicDataMapping#editFieldRepeatable">
			<var name="fieldFieldLabel" value="Web Content" />
		</execute>

		<execute macro="WebContentStructures#saveCP">
			<var name="structureName" value="Content List" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="LAR#importPortlet">
			<var name="larFileName" value="content-display-templates.lar" />
			<var name="uploadFrom" value="dependencies" />
		</execute>

		<execute function="Refresh" />

		<execute macro="NavItem#gotoTemplates" />

		<for list="Carousel Display,Thumbnail Display,Content List Display" param="templateName">
			<execute macro="WebContentNavigator#gotoViewTemplate">
				<var name="templateName" value="${templateName}" />
			</execute>

			<execute macro="WebContentTemplates#inputTemplateAddScreenFields">
				<var name="structureName" value="Content List" />
			</execute>

			<execute macro="DDLDataDefinition#save" />
		</for>

		<for list="Carousel Display,Thumbnail Display,Content List Display" param="templateName">
			<execute macro="WebContent#openWebContentAdmin">
				<var name="siteURLKey" value="test-site-name" />
			</execute>

			<execute macro="Navigator#gotoNavItem">
				<var name="navItem" value="Templates" />
			</execute>

			<execute macro="WebContentTemplates#viewCP">
				<var name="structureName" value="Content List" />
				<var name="templateDescription" value="" />
				<var name="templateName" value="${templateName}" />
			</execute>
		</for>
	</command>

	<command name="AddWebContentFromImportedStructureAndTemplate" priority="5">
		<description message="This is a use case for LPS-82492." />

		<property name="testray.component.names" value="Training" />

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="LAR#importPortlet">
			<var name="larFileName" value="frontPage-structures.lar" />
			<var name="uploadFrom" value="dependencies" />
		</execute>

		<execute function="Refresh" />

		<execute macro="NavItem#gotoStructures" />

		<for list="3 Columns with Images,Footer Content,1 Column Banner" param="structureName">
			<execute macro="WebContentStructures#viewCP">
				<var name="structureName" value="${structureName}" />
			</execute>
		</for>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="LAR#importPortlet">
			<var name="larFileName" value="space-templates.lar" />
			<var name="uploadFrom" value="dependencies" />
		</execute>

		<for list="3 Columns with Images Template,Footer Content Template,1 Column Banner Template,News,Events" param="templateName">
			<execute macro="Navigator#gotoNavItem">
				<var name="navItem" value="Templates" />
			</execute>

			<execute macro="WebContentTemplates#viewCP">
				<var name="templateDescription" value="" />
				<var name="templateName" value="${templateName}" />
			</execute>

			<execute macro="WebContent#openWebContentAdmin">
				<var name="siteURLKey" value="test-site-name" />
			</execute>
		</for>

		<execute macro="WebContentNavigator#gotoAddWithStructureCP">
			<var name="structureName" value="1 Column Banner" />
		</execute>

		<execute macro="WebContent#addWithStructureCP">
			<var name="description" value="The Structured Banner for the S.P.A.C.E. FrontPage" />
			<var name="fieldName" value="BannerTitle" />
			<var name="fieldName2" value="BannerHeading" />
			<var name="webContentImage" value="Spaceport.jpg" />
			<var name="webContentTextBox" value="Space Program Academy of Continuing Education" />
			<var name="webContentTextBox2" value="Dare to dream out of this world" />
			<var name="webContentTitle" value="S.P.A.C.E. Banner" />
		</execute>

		<execute macro="PortletEntry#publish" />

		<execute macro="WebContent#viewTitle">
			<var name="webContentTitle" value="S.P.A.C.E. Banner" />
		</execute>

		<execute macro="WebContent#viewWithStructureCP">
			<var name="description" value="The Structured Banner for the S.P.A.C.E. FrontPage" />
			<var name="fieldName" value="BannerTitle" />
			<var name="fieldName2" value="BannerHeading" />
			<var name="webContentImage" value="Spaceport.jpg" />
			<var name="webContentTextBox" value="Space Program Academy of Continuing Education" />
			<var name="webContentTextBox2" value="Dare to dream out of this world" />
			<var name="webContentTitle" value="S.P.A.C.E. Banner" />
		</execute>
	</command>

	<command name="ExportLARWithNestedWebContent" priority="4">
		<property name="testray.component.names" value="Web Content Administration" />

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="NavItem#gotoStructures" />

		<execute macro="WebContentStructures#addCP">
			<var name="structureDescription" value="WC Structure Description" />
			<var name="structureName" value="WC Structure Name" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Text" />
			<var name="fieldFieldLabel" value="Text" />
			<var name="fieldName" value="Text" />
		</execute>

		<execute macro="DynamicDataMapping#addFieldNested">
			<var name="field" value="Web Content" />
			<var name="fieldFieldLabel" value="Web Content" />
			<var name="fieldName" value="webContent" />
		</execute>

		<execute macro="WebContentStructures#saveCP">
			<var name="structureName" value="WC Structure Name" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="NavItem#gotoTemplates" />

		<execute macro="WebContentTemplates#addCP">
			<var name="structureName" value="WC Structure Name" />
			<var name="templateDescription" value="WC Template Description" />
			<var name="templateFieldNames" value="Text" />
			<var name="templateName" value="WC Template Name" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddWithStructureCP">
			<var name="structureName" value="Basic Web Content" />
		</execute>

		<execute macro="WebContent#addWithStructureCP">
			<var name="structureName" value="Basic Web Content" />
			<var name="templateName" value="Basic Web Content" />
			<var name="webContentTitle" value="Basic WebContent Title" />
		</execute>

		<execute macro="PortletEntry#publish" />

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddWithStructureCP">
			<var name="structureName" value="WC Structure Name" />
		</execute>

		<execute macro="WebContent#addWithStructureCP">
			<var name="fieldName" value="webContent" />
			<var name="structureName" value="WC Structure Name" />
			<var name="templateName" value="WC Template Name" />
			<var name="webContentSelectWCFile" value="Basic WebContent Title" />
			<var name="webContentTitle" value="WC WebContent Title" />
		</execute>

		<execute macro="FormFields#editText">
			<var name="fieldName" value="Text" />
			<var name="fieldValue" value="WC WebContent Text" />
		</execute>

		<execute macro="PortletEntry#publish" />

		<execute macro="WebContent#viewTitle">
			<var name="webContentTitle" value="WC WebContent Title" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="LAR#exportPortlet">
			<var name="larFileName" value="WebContent_portlet.lar" />
		</execute>
	</command>

	<command name="ImportAndUseGlobalStructureAndTemplate" priority="5">
		<property name="testray.component.names" value="Training" />

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="global" />
		</execute>

		<execute macro="LAR#importPortlet">
			<var name="larFileName" value="structure-templates.lar" />
			<var name="uploadFrom" value="dependencies" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddWithStructureCP">
			<var name="structureName" value="3 Column with Images" />
		</execute>

		<execute macro="WebContent#addWithStructureCP">
			<var name="fieldName" value="title" />
			<var name="webContentTextBox" value="Green Waste" />
			<var name="webContentTextBoxList" value="Mowed Lawns,Mulched Branches,Compost Bin" />
			<var name="webContentTitle" value="Agricultural Science Front Page" />
		</execute>

		<execute macro="PortletEntry#publish" />

		<execute macro="WebContent#viewTitle">
			<var name="webContentTitle" value="Agricultural Science Front Page" />
		</execute>

		<execute macro="WebContent#viewWithStructureCP">
			<var name="fieldName" value="title" />
			<var name="webContentTextBox" value="Green Waste" />
			<var name="webContentTextBoxList" value="Mowed Lawns,Mulched Branches,Compost Bin" />
			<var name="webContentTitle" value="Agricultural Science Front Page" />
		</execute>
	</command>

	<command name="ImportLAR" priority="4">
		<property name="testray.component.names" value="Web Content Administration" />

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="NavItem#gotoStructures" />

		<execute macro="WebContentStructures#addCP">
			<var name="structureDescription" value="WC Structure Description" />
			<var name="structureName" value="WC Structure Name" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Text" />
			<var name="fieldFieldLabel" value="Text" />
			<var name="fieldName" value="Text" />
		</execute>

		<execute macro="WebContentStructures#saveCP">
			<var name="structureName" value="WC Structure Name" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="NavItem#gotoTemplates" />

		<execute macro="WebContentTemplates#addCP">
			<var name="structureName" value="WC Structure Name" />
			<var name="templateDescription" value="WC Template Description" />
			<var name="templateFieldNames" value="Text" />
			<var name="templateName" value="WC Template Name" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddWithStructureCP">
			<var name="structureName" value="WC Structure Name" />
		</execute>

		<execute macro="WebContent#addWithStructureCP">
			<var name="structureName" value="WC Structure Name" />
			<var name="templateName" value="WC Template Name" />
			<var name="webContentText" value="WC WebContent Text" />
			<var name="webContentTitle" value="WC WebContent Title" />
		</execute>

		<execute macro="PortletEntry#publish" />

		<execute macro="WebContent#viewTitle">
			<var name="webContentTitle" value="WC WebContent Title" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="LAR#exportPortlet">
			<var name="larFileName" value="WebContent_portlet2.lar" />
		</execute>

		<execute macro="JSONGroup#deleteGroupByName">
			<var name="groupName" value="Test Site Name" />
		</execute>

		<execute macro="JSONGroup#addGroup">
			<var name="groupName" value="Test Site Name" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="LAR#importPortlet">
			<var name="larFileName" value="WebContent_portlet2.lar" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="WebContent#viewWithStructureCP">
			<var name="webContentText" value="WC WebContent Text" />
			<var name="webContentTitle" value="WC WebContent Title" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="NavItem#gotoStructures" />

		<execute macro="WebContentStructures#viewCP">
			<var name="structureDescription" value="WC Structure Description" />
			<var name="structureName" value="WC Structure Name" />
		</execute>

		<execute macro="LexiconEntry#gotoEntry">
			<var name="rowEntry" value="WC Structure Name" />
		</execute>

		<execute macro="DynamicDataMapping#viewField">
			<var name="fieldFieldLabel" value="Text" />
			<var name="fieldName" value="Text" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="Navigator#gotoNavItem">
			<var name="navItem" value="Templates" />
		</execute>

		<execute macro="WebContentTemplates#viewCP">
			<var name="templateDescription" value="WC Template Description" />
			<var name="templateName" value="WC Template Name" />
		</execute>
	</command>

	<command name="ImportLARLinkToPageValidation" priority="4">
		<property name="testray.component.names" value="Web Content Administration" />

		<execute macro="JSONLayout#addPublicLayout">
			<var name="groupName" value="Test Site Name" />
			<var name="layoutName" value="Test Page" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="NavItem#gotoStructures" />

		<execute macro="WebContentStructures#addCP">
			<var name="structureDescription" value="Test Structure Description" />
			<var name="structureName" value="Test Structure" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Link to Page" />
			<var name="fieldFieldLabel" value="Link to Page" />
			<var name="fieldName" value="LinkToPage" />
		</execute>

		<execute macro="WebContentStructures#saveCP">
			<var name="structureName" value="Test Structure" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="NavItem#gotoTemplates" />

		<execute macro="WebContentTemplates#addCP">
			<var name="structureName" value="Test Structure" />
			<var name="templateDescription" value="Test Template Description" />
			<var name="templateName" value="Test Template" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddWithStructureCP">
			<var name="structureName" value="Test Structure" />
		</execute>

		<execute macro="WebContent#addWithStructureCP">
			<var name="linkedPageName" value="Test Page" />
			<var name="structureName" value="Test Structure" />
			<var name="templateName" value="Test Template" />
			<var name="webContentTitle" value="WC Title" />
		</execute>

		<execute macro="PortletEntry#publish" />

		<execute macro="WebContent#viewTitle">
			<var name="webContentTitle" value="WC Title" />
		</execute>

		<execute macro="LAR#exportPortlet">
			<var name="larFileName" value="WebContent_portlet.lar" />
		</execute>

		<execute macro="JSONGroup#addGroup">
			<var name="groupName" value="Site Name" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="site-name" />
		</execute>

		<execute macro="LAR#importPortlet">
			<var name="importValidationMissingItem" value="Linked Page" />
			<var name="larFileName" value="WebContent_portlet.lar" />
			<var name="linkedPageName" value="Test Page" />
			<var name="siteName" value="Site Name" />
		</execute>
	</command>

	<command ignore="true" name="ImportTrainingLAR" priority="5">
		<property name="testray.component.names" value="Training" />

		<execute macro="JSONLayout#addPublicLayout">
			<var name="groupName" value="Test Site Name" />
			<var name="layoutName" value="Site Page Name" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="LAR#importPortlet">
			<var name="larFileName" value="space-content-7.0.lar" />
			<var name="siteName" value="Site Name" />
			<var name="uploadFrom" value="dependencies" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Site Page Name" />
			<var name="siteName" value="Test Site Name" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Web Content Display" />
		</execute>

		<execute macro="Portlet#gotoPortletOptions">
			<var name="portletName" value="Web Content Display" />
			<var name="portletOption" value="Look and Feel Configuration" />
		</execute>

		<execute macro="IFrame#selectConfigurationFrame" />

		<execute macro="Portlet#selectApplicationDecorator">
			<var name="decorator" value="Barebone" />
		</execute>

		<execute macro="PortletEntry#save" />

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Site Page Name" />
			<var name="siteName" value="Test Site Name" />
		</execute>

		<execute macro="Portlet#viewApplicationDecorator">
			<var name="decorator" value="Barebone" />
		</execute>
	</command>

	<command name="MoveImportedWebContentArticlesToFolders" priority="5">
		<property name="testray.component.names" value="Training,Web Content Administration" />

		<execute macro="JSONLayout#addPublicLayout">
			<var name="groupName" value="Test Site Name" />
			<var name="layoutName" value="Test Page Name" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="WebContentFolder#addCP">
			<var name="folderDescription" value="News Folder Description" />
			<var name="folderName" value="News" />
		</execute>

		<execute macro="WebContentFolder#addCP">
			<var name="folderDescription" value="Events Folder Description" />
			<var name="folderName" value="Events" />
		</execute>

		<execute macro="LAR#importPortlet">
			<var name="larFileName" value="space-web-content.lar" />
			<var name="uploadFrom" value="dependencies" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<for list="When It All Began...,Stravinksy in Space?,Student Spotlight,Upcoming Press Conference,New Student Orientation,Fall Special Speaker Series" param="webContentTitle">
			<execute macro="WebContent#viewTitle">
				<var name="webContentTitle" value="${webContentTitle}" />
			</execute>
		</for>

		<execute macro="WebContent#moveArticlesToFolderCP">
			<var name="folderName" value="News" />
			<var name="webContentArticlesList" value="When It All Began...,Stravinksy in Space?,Student Spotlight" />
		</execute>

		<execute macro="WebContent#moveArticlesToFolderCP">
			<var name="folderName" value="Events" />
			<var name="webContentArticlesList" value="Upcoming Press Conference,New Student Orientation,Fall Special Speaker Series" />
		</execute>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="WebContentFolder#gotoCP">
			<var name="folderName" value="News" />
			<var name="webContentTitle" value="News" />
		</execute>

		<for list="When It All Began...,Stravinksy in Space?,Student Spotlight" param="webContentTitle">
			<execute macro="WebContent#viewTitle">
				<var name="webContentTitle" value="${webContentTitle}" />
			</execute>
		</for>

		<execute macro="WebContent#openWebContentAdmin">
			<var name="siteURLKey" value="test-site-name" />
		</execute>

		<execute macro="WebContentFolder#gotoCP">
			<var name="folderName" value="Events" />
			<var name="webContentTitle" value="Events" />
		</execute>

		<for list="Upcoming Press Conference,New Student Orientation,Fall Special Speaker Series" param="webContentTitle">
			<execute macro="WebContent#viewTitle">
				<var name="webContentTitle" value="${webContentTitle}" />
			</execute>
		</for>
	</command>
</definition>